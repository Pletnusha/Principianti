             
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> –°–µ–º—å—è –ê–ª—å–±–µ—Ä—Ç–∞ 1 (–ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è - –°—Ç–∞–±–∏–ª—å–Ω—ã–π –ö–æ–¥)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* --- –°–¢–ò–õ–ò (CSS) --- */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            color: #334155;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* 3D-–≠–§–§–ï–ö–¢ –ö–ê–†–¢–û–ß–ö–ò (–° –§–ò–ö–°–û–ú –ü–û–ó–ò–¶–ò–ò) */
        .card-container { perspective: 1000px; width: 100%; max-width: 400px; margin: 0 auto; }
        .card { width: 100%; height: 250px; position: relative; transform-style: preserve-3d; transition: transform 0.6s; cursor: pointer; }
        .card.is-flipped { transform: rotateY(180deg); }
        .card-face {
            position: absolute;
            top: 0; left: 0; /* ‚úÖ –§–ò–ö–°–ò–†–£–ï–ú –ü–û–ó–ò–¶–ò–Æ */
            width: 100%; height: 100%;
            backface-visibility: hidden; display: flex; align-items: center; justify-content: center;
            padding: 24px; border-radius: 12px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border: 1px solid #e2e8f0; text-align: center; font-size: 1.5rem; font-weight: 600;
        }
        .card-front { background-color: #ffffff; color: #1e293b; position: relative; }
        .card-back { background-color: #3b82f6; color: #ffffff; transform: rotateY(180deg); }
        
        /* –ö–Ω–æ–ø–∫–∞ –∑–≤—É–∫–∞ */
        .audio-btn { position: absolute; top: 10px; right: 10px; background: #f1f5f9; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; transition: 0.2s; border: 1px solid #cbd5e1; z-index: 10; }

        /* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞–º–∏ */
        .game-section { display: none; }
        .game-section.visible { display: block; }
        .mode-button.active { background-color: #2563eb; color: #fff; }
        
        /* MATCH (Match) */
        .match-card-grid-container { width: 100%; max-width: 500px; margin: 0 auto; }
        .match-grid { grid-template-columns: 1fr 1fr; gap: 15px; }
        .match-col { display: flex; flex-direction: column; gap: 10px; }
        .match-card { padding: 15px; border-radius: 8px; cursor: pointer; background-color: #f0f4f8; }
        .match-card.selected { background-color: #fff3cd !important; border-color: #ffecb5; }
        .match-card.matched { visibility: hidden; } 
    </style>
</head>
<body class="p-4 md:p-8 lg:p-12">

<div class="w-full max-w-4xl bg-white rounded-2xl shadow-xl p-6 md:p-10">
    <h1 class="text-3xl md:text-4xl font-bold text-center mb-2 text-gray-800"> –ö–∞–∫ –∑–æ–≤—É—Ç? 1.1</h1>
    <p class="text-center text-gray-500 mb-8">sceliere modalit√†</p>

    <div class="flex flex-wrap justify-center gap-3 mb-10">
        <button class="mode-button active bg-gray-100 text-gray-600 px-6 py-3 rounded-full font-medium hover:bg-gray-200" id="btn-study" data-mode="study">ESPLORARE</button>
        <button class="mode-button bg-gray-100 text-gray-600 px-6 py-3 rounded-full font-medium hover:bg-gray-200" id="btn-quiz" data-mode="quiz">QUIZ</button>
        <button class="mode-button bg-gray-100 text-gray-600 px-6 py-3 rounded-full font-medium hover:bg-gray-200" id="btn-match" data-mode="match">MATCH</button>
    </div>

    <div id="section-study" class="game-section visible">
        <div id="learning-area-study" class="w-full min-h-[300px] flex flex-col items-center justify-center"></div>
        <div id="navigation-area" class="flex justify-between items-center mt-8 w-full max-w-md mx-auto">
            <button id="prev-card-btn" class="bg-white border border-gray-300 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-50 transition">‚Üê –ù–∞–∑–∞–¥</button>
            <span id="counter" class="text-gray-400 font-mono text-sm">1 / 8</span>
            <button id="next-card-btn" class="bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 shadow-lg transition">–í–ø–µ—Ä–µ–¥ ‚Üí</button>
        </div>
    </div>

    <div id="section-quiz" class="game-section">
        <div id="learning-area-quiz" class="w-full min-h-[300px] flex flex-col items-center justify-center"></div>
        <button id="start-quiz-btn" class="bg-green-600 text-white px-6 py-3 rounded-full hover:bg-green-700 shadow-lg mt-4">–ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å</button>
    </div>

    <div id="section-match" class="game-section">
        <div id="learning-area-match" class="w-full min-h-[300px] flex flex-col items-center justify-center"></div>
        <button id="reset-match-btn" class="bg-purple-600 text-white px-6 py-3 rounded-full hover:bg-purple-700 shadow-lg mt-4">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
    </div>
</div>

<script>
    // ==========================================
    // 1. –§–£–ù–ö–¶–ò–Ø –û–ó–í–£–ß–ö–ò (Text-to-Speech)
    // ==========================================
    function textToSpeech(text, options = {}) {
        const settings = { lang: options.lang || 'ru-RU', rate: options.rate || 0.9, pitch: options.pitch || 1, volume: options.volume || 1 };
        if (!('speechSynthesis' in window)) { console.error('TTS –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è'); return; }
        if (window.speechSynthesis.speaking) { window.speechSynthesis.cancel(); }
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = settings.lang; utterance.rate = settings.rate; utterance.pitch = settings.pitch; utterance.volume = settings.volume;
        window.speechSynthesis.speak(utterance);
    }
    function playAudio(text, event, lang = 'ru-RU') {
        event.stopPropagation(); // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç
        textToSpeech(text, { lang: lang });
    }

    // ==========================================
    // 2. –î–ê–ù–ù–´–ï (–ö–ê–°–°–ï–¢–ê)
    // ==========================================
    const flashcardsData = [
        { front: "–≠—Ç–æ –ê–ª—å–±–µ—Ä—Ç, ", back: "–¥—è–¥—è –ê–ª–µ–∫—Å–∞–Ω–¥—Ä—ã –∏ –ê–Ω–∞—Ç–æ–ª–∏—è." },
        { front: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞," }, back: "–ø–ª–µ—è–Ω–Ω–∏—Ü–∞ –ï–ª–µ–Ω—ã –∏ –ê–ª—å–±–µ—Ä—Ç–∞" },
        { front: "–ê–Ω–∞—Ç–æ–ª–∏–π", back: "–ø–ª–µ–º—è–Ω–Ω–∏–∫ –ï–ª–µ–Ω—ã –∏ –ê–ª—å–±–µ—Ä—Ç–∞" },
        { front: "–°–≤–µ—Ç–ª–∞–Ω–∞ - –∂–µ–Ω–∞" }, back: "–ê–Ω–∞—Ç–æ–ª–∏—è" },
        { front: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ ", back: "—Å–µ—Å—Ç—Ä–∞ –ê–Ω–∞—Ç–æ–ª–∏—è" },
        { front: "–ê–Ω–∞—Ç–æ–ª–∏–π", back: "–±—Ä–∞—Ç –ê–ª–µ–∫—Å–∞–Ω–¥—Ä—ã" },
        { front: "–ê–Ω–∞—Ç–æ–ª–∏–π - –º—É–∂", back: "–°–≤–µ—Ç–ª–∞–Ω—ã" },
         { front: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ ", back: "–∂–µ–Ω–∞ –°–µ—Ä–≥–µ—è" },
         { front: "–°–µ—Ä–≥–µ–π", back: "–º—É–∂ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä—ã" },
           ];

    // ==========================================
    // 3. –°–û–°–¢–û–Ø–ù–ò–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
    // ==========================================
    let currentMode = 'study';
    let currentIndex = 0;
    let selectedMatchCard = null;

    // ==========================================
    // 4. –ì–õ–ê–í–ù–´–ï –§–£–ù–ö–¶–ò–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø
    // ==========================================
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–ó–∞–ø—É—Å–∫)
    window.onload = initApp; // –ó–∞–ø—É—Å–∫–∞–µ–º initApp –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM

    function initApp() {
        // --- –ü–†–ò–í–Ø–ó–ö–ê –ö–ù–û–ü–û–ö –ú–ï–ù–Æ ---
        document.querySelectorAll('.mode-button').forEach(btn => {
            btn.addEventListener('click', () => switchMode(btn.dataset.mode));
        });

        // --- –ü–†–ò–í–Ø–ó–ö–ê –ö–ù–û–ü–û–ö –ù–ê–í–ò–ì–ê–¶–ò–ò –∏ QUIZ/MATCH ---
        document.getElementById('next-card-btn').addEventListener('click', nextCard);
        document.getElementById('prev-card-btn').addEventListener('click', prevCard);
        document.getElementById('start-quiz-btn').addEventListener('click', renderQuiz);
        document.getElementById('reset-match-btn').addEventListener('click', initMatchGame);

        switchMode('study'); // –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ –∏–∑—É—á–µ–Ω–∏—è
    }

    function switchMode(mode) {
        currentMode = mode;

        document.querySelectorAll('.mode-button').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.game-section').forEach(el => el.classList.remove('visible'));

        document.getElementById('section-' + mode).classList.add('visible');
        document.getElementById('btn-' + mode).classList.add('active');

        if (mode === 'study') { currentIndex = 0; renderCard(); } 
        else if (mode === 'quiz') { renderQuiz(); } 
        else if (mode === 'match') { initMatchGame(); }
    }

    // --- –§–£–ù–ö–¶–ò–ò –†–ï–ñ–ò–ú–ê –ò–ó–£–ß–ï–ù–ò–Ø (STUDY) ---

    function renderCard() {
        const area = document.getElementById('learning-area-study');
        const counter = document.getElementById('counter');
        const cardData = flashcardsData[currentIndex];

        counter.innerText = `${currentIndex + 1} / ${flashcardsData.length}`;
        area.innerHTML = '';

        const cardHTML = `
            <div class="card-container">
                <div class="card" id="current-card">
                    
                    <div class="card-face card-front">
                        <button class="audio-btn" data-text="${cardData.front}">üîä</button>
                        ${cardData.front}
                    </div>

                    <div class="card-face card-back">
                        <button class="audio-btn" data-text="${cardData.back}">üîä</button>
                        ${cardData.back}
                    </div>
                </div>
            </div>
        `;
        area.innerHTML = cardHTML;
        
        // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç –∫ –Ω–æ–≤–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ
        document.getElementById('current-card').addEventListener('click', function() {
            this.classList.toggle('is-flipped');
        });
        
        // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –∑–≤—É–∫
        document.querySelectorAll('.audio-btn').forEach(btn => {
            btn.addEventListener('click', (event) => {
                playAudio(btn.dataset.text, event, 'ru-RU');
            });
        });
    }

    // --- –§–£–ù–ö–¶–ò–ò –ù–ê–í–ò–ì–ê–¶–ò–ò ---

    function nextCard() {
        currentIndex = (currentIndex + 1) % flashcardsData.length;
        renderCard();
    }

    function prevCard() {
        if (currentIndex > 0) {
            currentIndex--;
            renderCard();
        }
    }

    // --- –§–£–ù–ö–¶–ò–ò –†–ï–ñ–ò–ú–ê –í–ò–ö–¢–û–†–ò–ù–´ (QUIZ) ---

    function renderQuiz() {
        const area = document.getElementById('learning-area-quiz');
        
        const randomIndex = Math.floor(Math.random() * flashcardsData.length);
        const correctCard = flashcardsData[randomIndex];

        let options = [correctCard];
        while (options.length < 4) {
            const randomWrong = flashcardsData[Math.floor(Math.random() * flashcardsData.length)];
            if (!options.some(opt => opt.back === randomWrong.back)) {
                options.push(randomWrong);
            }
        }
        options.sort(() => Math.random() - 0.5);

        let buttonsHTML = options.map(opt => 
            `<button class="quiz-option-btn w-full text-left p-4 mb-2 bg-gray-50 border rounded-lg hover:bg-blue-50 transition" 
                     data-answer="${opt.back}" data-correct="${correctCard.back}">
              ${opt.back}
            </button>`
        ).join('');

        area.innerHTML = `
            <div class="w-full max-w-md">
                <h3 class="text-2xl font-bold text-center mb-6"> –ù–∞–π–¥–∏ –≤—Ç–æ—Ä—É—é —á–∞—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è: "${correctCard.front}"?</h3>
                <div id="quiz-buttons" class="space-y-2">${buttonsHTML}</div>
                <p id="quiz-feedback" class="text-center mt-4 h-6 font-bold"></p>
            </div>
        `;
        
        // –ü—Ä–∏–≤—è–∑–∫–∞ —Å–ª—É—à–∞—Ç–µ–ª–µ–π –∫ –∫–Ω–æ–ø–∫–∞–º –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
        document.querySelectorAll('.quiz-option-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                checkQuizAnswer(this.dataset.answer, this.dataset.correct, this);
            });
        });
    }

    function checkQuizAnswer(selected, correct, btnElement) {
        const feedback = document.getElementById('quiz-feedback');
        
        // –û—Ç–∫–ª—é—á–∞–µ–º –∫–ª–∏–∫–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
        document.querySelectorAll('.quiz-option-btn').forEach(btn => btn.removeEventListener('click', function() {}));

        if (selected === correct) {
            btnElement.classList.add('bg-green-200', 'border-green-400');
            feedback.innerText = "‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!";
            
            setTimeout(() => renderQuiz(), 1000); // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É
        } else {
            btnElement.classList.add('bg-red-200', 'border-red-400');
            feedback.innerText = `‚ùå –û—à–∏–±–∫–∞. –ü—Ä–∞–≤–∏–ª—å–Ω–æ: ${correct}`;
            
            document.querySelectorAll('.quiz-option-btn').forEach(btn => {
                if (btn.innerText.trim() === correct.trim()) {
                     btn.classList.add('bg-green-200');
                }
            });
        }
    }

    // --- –§–£–ù–ö–¶–ò–ò –†–ï–ñ–ò–ú–ê –°–û–í–ü–ê–î–ï–ù–ò–ô (MATCH) ---

    function initMatchGame() {
        const area = document.getElementById('learning-area-match');
        area.innerHTML = '';
        
        let fronts = flashcardsData.map((card, index) => ({ text: card.front, type: 'front', id: index }));
        let backs = flashcardsData.map((card, index) => ({ text: card.back, type: 'back', id: index }));

        fronts.sort(() => Math.random() - 0.5);
        backs.sort(() => Math.random() - 0.5);

        area.innerHTML = `
            <div class="match-card-grid-container">
                <p id="match-feedback" class="text-lg font-bold mb-4 h-6"></p>
                <div id="match-grid" class="match-grid">
                    <div id="match-col-fronts" class="match-col"></div>
                    <div id="match-col-backs" class="match-col"></div>
                </div>
            </div>
        `;
        
        const colFronts = document.getElementById('match-col-fronts');
        const colBacks = document.getElementById('match-col-backs');

        function createMatchElement(item) {
            const div = document.createElement('div');
            div.className = 'match-card bg-gray-100 hover:bg-gray-200 transition';
            div.textContent = item.text;
            div.dataset.id = item.id;
            div.dataset.type = item.type;
            div.addEventListener('click', () => handleMatchClick(div));
            return div;
        }

        fronts.forEach(item => colFronts.appendChild(createMatchElement(item)));
        backs.forEach(item => colBacks.appendChild(createMatchElement(item)));
    }

    function handleMatchClick(clickedCard) {
        const feedbackEl = document.getElementById('match-feedback');
        if (clickedCard.classList.contains('matched')) return;

        if (!selectedMatchCard) {
            selectedMatchCard = clickedCard;
            clickedCard.classList.add('selected');
            feedbackEl.textContent = "–í—ã–±–µ—Ä–∏ –ø–∞—Ä—É...";

        } else {
            if (selectedMatchCard.dataset.type === clickedCard.dataset.type) {
                 feedbackEl.textContent = "‚ùå –í—ã–±–µ—Ä–∏ –∏–∑ –¥—Ä—É–≥–æ–π –∫–æ–ª–æ–Ω–∫–∏!";
                 setTimeout(() => { clickedCard.classList.remove('selected'); }, 500);
                 return;
            }

            const firstId = selectedMatchCard.dataset.id;
            const secondId = clickedCard.dataset.id;

            if (firstId === secondId) {
                selectedMatchCard.classList.add('matched');
                clickedCard.classList.add('matched');
                feedbackEl.textContent = "‚ú® –ü–∞—Ä–∞ –Ω–∞–π–¥–µ–Ω–∞!";
            } else {
                clickedCard.classList.add('wrong');
                selectedMatchCard.classList.add('wrong');
                feedbackEl.textContent = "‚ùå –ù–µ–≤–µ—Ä–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑.";

                setTimeout(() => {
                    clickedCard.classList.remove('selected', 'wrong');
                    selectedMatchCard.classList.remove('selected', 'wrong');
                    feedbackEl.textContent = "";
                }, 800);
            }
            selectedMatchCard.classList.remove('selected');
            selectedMatchCard = null;
        }
    }
</script>
</body>
</html>